<!doctype html><html class="theme-next mist use-motion" lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/atom.xml" title="Abracdabra" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="Ewan&apos;s IT Blog"><meta property="og:type" content="website"><meta property="og:title" content="Abracdabra"><meta property="og:url" content="http://yoursite.com/page/11/index.html"><meta property="og:site_name" content="Abracdabra"><meta property="og:description" content="Ewan&apos;s IT Blog"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Abracdabra"><meta name="twitter:description" content="Ewan&apos;s IT Blog"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/page/11/"><title>Abracdabra</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?dc405a79ad500922134d14cdf288f646";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container one-collumn sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Abracdabra</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Do it yourself</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>Categories</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>About</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br>Sitemap</a></li><li class="menu-item menu-item-commonweal"><a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/LDA/"><span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Ewan Li"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.jpg"></span><span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Abracdabra"><span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"><img style="display:none" itemprop="url image" alt="Abracdabra" src=""></span></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2017/03/24/LDA/" itemprop="url">LDA</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-24T15:11:52+08:00">2017-03-24 </time></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/2017/03/24/LDA/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/LDA/" itemprop="commentCount"></span> </a></span><span id="/2017/03/24/LDA/" class="leancloud_visitors" data-flag-title="LDA"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Visitors </span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Scikit-learn-example"><a href="#Scikit-learn-example" class="headerlink" title="Scikit-learn example"></a>Scikit-learn example</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%matplotlib inline</div></pre></td></tr></table></figure><h2 id="Topic-extraction-with-Non-negative-Matrix-Factorization-and-Latent-Dirichlet-Allocation"><a href="#Topic-extraction-with-Non-negative-Matrix-Factorization-and-Latent-Dirichlet-Allocation" class="headerlink" title="Topic extraction with Non-negative Matrix Factorization and Latent Dirichlet Allocation"></a>Topic extraction with Non-negative Matrix Factorization and Latent Dirichlet Allocation</h2><p>This is an example of applying Non-negative Matrix Factorization and Latent Dirichlet Allocation on a corpus of documents and extract additive models of the topic structure of the corpus. The output is a list of topics, each represented as a list of terms (weights are not shown).</p><p>The default parameters (n_samples / n_features / n_topics) should make the example runnable in a couple of tens of seconds. You can try to increase the dimensions of the problem, but be aware that the time complexity is polynomial in NMF. In LDA, the time complexity is proportional to (n_samples * iterations).</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Author: Olivier Grisel &lt;olivier.grisel@ensta.org&gt;</span></div><div class="line"><span class="comment">#         Lars Buitinck</span></div><div class="line"><span class="comment">#         Chyi-Kwei Yau &lt;chyikwei.yau@gmail.com&gt;</span></div><div class="line"><span class="comment"># License: BSD 3 clause</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</div><div class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</div><div class="line"></div><div class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer, CountVectorizer</div><div class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> NMF, LatentDirichletAllocation</div><div class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> fetch_20newsgroups</div><div class="line"></div><div class="line">n_samples = <span class="number">2000</span></div><div class="line">n_features = <span class="number">1000</span></div><div class="line">n_topics = <span class="number">10</span></div><div class="line">n_top_words = <span class="number">20</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_top_words</span><span class="params">(model, feature_names, n_top_words)</span>:</span></div><div class="line">    <span class="keyword">for</span> topic_idx, topic <span class="keyword">in</span> enumerate(model.components_):</div><div class="line">        print(<span class="string">"Topic #%d:"</span> % topic_idx)</div><div class="line">        print(<span class="string">" "</span>.join([feature_names[i]</div><div class="line">                        <span class="keyword">for</span> i <span class="keyword">in</span> topic.argsort()[:-n_top_words - <span class="number">1</span>:<span class="number">-1</span>]]))</div><div class="line">    print()</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Load the 20 newsgroups dataset and vectorize it. We use a few heuristics</span></div><div class="line"><span class="comment"># to filter out useless terms early on: the posts are stripped of headers,</span></div><div class="line"><span class="comment"># footers and quoted replies, and common English words, words occurring in</span></div><div class="line"><span class="comment"># only one document or in at least 95% of the documents are removed.</span></div><div class="line"></div><div class="line">print(<span class="string">"Loading dataset..."</span>)</div><div class="line">t0 = time()</div><div class="line">dataset = fetch_20newsgroups(shuffle=<span class="keyword">True</span>, random_state=<span class="number">1</span>,</div><div class="line">                             remove=(<span class="string">'headers'</span>, <span class="string">'footers'</span>, <span class="string">'quotes'</span>))</div><div class="line">data_samples = dataset.data[:n_samples]</div><div class="line">print(<span class="string">"done in %0.3fs."</span> % (time() - t0))</div><div class="line"></div><div class="line"><span class="comment"># Use tf-idf features for NMF.</span></div><div class="line">print(<span class="string">"Extracting tf-idf features for NMF..."</span>)</div><div class="line">tfidf_vectorizer = TfidfVectorizer(max_df=<span class="number">0.95</span>, min_df=<span class="number">2</span>,</div><div class="line">                                   max_features=n_features,</div><div class="line">                                   stop_words=<span class="string">'english'</span>)</div><div class="line">t0 = time()</div><div class="line">tfidf = tfidf_vectorizer.fit_transform(data_samples)</div><div class="line">print(<span class="string">"done in %0.3fs."</span> % (time() - t0))</div><div class="line"></div><div class="line"><span class="comment"># Use tf (raw term count) features for LDA.</span></div><div class="line">print(<span class="string">"Extracting tf features for LDA..."</span>)</div><div class="line">tf_vectorizer = CountVectorizer(max_df=<span class="number">0.95</span>, min_df=<span class="number">2</span>,</div><div class="line">                                max_features=n_features,</div><div class="line">                                stop_words=<span class="string">'english'</span>)</div><div class="line">t0 = time()</div><div class="line">tf = tf_vectorizer.fit_transform(data_samples)</div><div class="line">print(<span class="string">"done in %0.3fs."</span> % (time() - t0))</div><div class="line"></div><div class="line"><span class="comment"># Fit the NMF model</span></div><div class="line">print(<span class="string">"Fitting the NMF model with tf-idf features, "</span></div><div class="line">      <span class="string">"n_samples=%d and n_features=%d..."</span></div><div class="line">      % (n_samples, n_features))</div><div class="line">t0 = time()</div><div class="line">nmf = NMF(n_components=n_topics, random_state=<span class="number">1</span>,</div><div class="line">          alpha=<span class="number">.1</span>, l1_ratio=<span class="number">.5</span>).fit(tfidf)</div><div class="line">print(<span class="string">"done in %0.3fs."</span> % (time() - t0))</div><div class="line"></div><div class="line">print(<span class="string">"\nTopics in NMF model:"</span>)</div><div class="line">tfidf_feature_names = tfidf_vectorizer.get_feature_names()</div><div class="line">print_top_words(nmf, tfidf_feature_names, n_top_words)</div><div class="line"></div><div class="line">print(<span class="string">"Fitting LDA models with tf features, "</span></div><div class="line">      <span class="string">"n_samples=%d and n_features=%d..."</span></div><div class="line">      % (n_samples, n_features))</div><div class="line">lda = LatentDirichletAllocation(n_topics=n_topics, max_iter=<span class="number">5</span>,</div><div class="line">                                learning_method=<span class="string">'online'</span>,</div><div class="line">                                learning_offset=<span class="number">50.</span>,</div><div class="line">                                random_state=<span class="number">0</span>)</div><div class="line">t0 = time()</div><div class="line">lda.fit(tf)</div><div class="line">print(<span class="string">"done in %0.3fs."</span> % (time() - t0))</div><div class="line"></div><div class="line">print(<span class="string">"\nTopics in LDA model:"</span>)</div><div class="line">tf_feature_names = tf_vectorizer.get_feature_names()</div><div class="line">print_top_words(lda, tf_feature_names, n_top_words)</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Loading dataset...</div></pre></td></tr></table></figure><p>​</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">No handlers could be found <span class="keyword">for</span> logger <span class="string">"sklearn.datasets.twenty_newsgroups"</span></div></pre></td></tr></table></figure><p>​</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">done <span class="keyword">in</span> <span class="number">691.647</span>s.</div><div class="line">Extracting tf-idf features <span class="keyword">for</span> NMF...</div><div class="line">done <span class="keyword">in</span> <span class="number">0.454</span>s.</div><div class="line">Extracting tf features <span class="keyword">for</span> LDA...</div><div class="line">done <span class="keyword">in</span> <span class="number">0.416</span>s.</div><div class="line">Fitting the NMF model <span class="keyword">with</span> tf-idf features, n_samples=<span class="number">2000</span> <span class="keyword">and</span> n_features=<span class="number">1000.</span>..</div><div class="line">done <span class="keyword">in</span> <span class="number">0.367</span>s.</div><div class="line"></div><div class="line">Topics <span class="keyword">in</span> NMF model:</div><div class="line">Topic <span class="comment">#0:</span></div><div class="line">just people don think like know time good make way really say right ve want did ll new use years</div><div class="line">Topic <span class="comment">#1:</span></div><div class="line">windows use dos using window program os drivers application help software pc running ms screen files version card code work</div><div class="line">Topic <span class="comment">#2:</span></div><div class="line">god jesus bible faith christian christ christians does heaven sin believe lord life church mary atheism belief human love religion</div><div class="line">Topic <span class="comment">#3:</span></div><div class="line">thanks know does mail advance hi info interested email anybody looking card help like appreciated information send list video need</div><div class="line">Topic <span class="comment">#4:</span></div><div class="line">car cars tires miles <span class="number">00</span> new engine insurance price condition oil power speed good <span class="number">000</span> brake year models used bought</div><div class="line">Topic <span class="comment">#5:</span></div><div class="line">edu soon com send university internet mit ftp mail cc pub article information hope program mac email home contact blood</div><div class="line">Topic <span class="comment">#6:</span></div><div class="line">file problem files format win sound ftp pub read save site help image available create copy running memory self version</div><div class="line">Topic <span class="comment">#7:</span></div><div class="line">game team games year win play season players nhl runs goal hockey toronto division flyers player defense leafs bad teams</div><div class="line">Topic <span class="comment">#8:</span></div><div class="line">drive drives hard disk floppy software card mac computer power scsi controller apple mb <span class="number">00</span> pc rom sale problem internal</div><div class="line">Topic <span class="comment">#9:</span></div><div class="line">key chip clipper keys encryption government public use secure enforcement phone nsa communications law encrypted security clinton used legal standard</div><div class="line"></div><div class="line">Fitting LDA models <span class="keyword">with</span> tf features, n_samples=<span class="number">2000</span> <span class="keyword">and</span> n_features=<span class="number">1000.</span>..</div><div class="line">done <span class="keyword">in</span> <span class="number">2.169</span>s.</div><div class="line"></div><div class="line">Topics <span class="keyword">in</span> LDA model:</div><div class="line">Topic <span class="comment">#0:</span></div><div class="line">edu com mail send graphics ftp pub available contact university list faq ca information cs <span class="number">1993</span> program sun uk mit</div><div class="line">Topic <span class="comment">#1:</span></div><div class="line">don like just know think ve way use right good going make sure ll point got need really time doesn</div><div class="line">Topic <span class="comment">#2:</span></div><div class="line">christian think atheism faith pittsburgh new bible radio games alt lot just religion like book read play time subject believe</div><div class="line">Topic <span class="comment">#3:</span></div><div class="line">drive disk windows thanks use card drives hard version pc software file using scsi help does new dos controller <span class="number">16</span></div><div class="line">Topic <span class="comment">#4:</span></div><div class="line">hiv health aids disease april medical care research <span class="number">1993</span> light information study national service test led <span class="number">10</span> page new drug</div><div class="line">Topic <span class="comment">#5:</span></div><div class="line">god people does just good don jesus say israel way life know true fact time law want believe make think</div><div class="line">Topic <span class="comment">#6:</span></div><div class="line"><span class="number">55</span> <span class="number">10</span> <span class="number">11</span> <span class="number">18</span> <span class="number">15</span> team game <span class="number">19</span> period play <span class="number">23</span> <span class="number">12</span> <span class="number">13</span> flyers <span class="number">20</span> <span class="number">25</span> <span class="number">22</span> <span class="number">17</span> <span class="number">24</span> <span class="number">16</span></div><div class="line">Topic <span class="comment">#7:</span></div><div class="line">car year just cars new engine like bike good oil insurance better tires <span class="number">000</span> thing speed model brake driving performance</div><div class="line">Topic <span class="comment">#8:</span></div><div class="line">people said did just didn know time like went think children came come don took years say dead told started</div><div class="line">Topic <span class="comment">#9:</span></div><div class="line">key space law government public use encryption earth section security moon probe enforcement keys states lunar military crime surface technology</div></pre></td></tr></table></figure><p>​</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">data_samples[<span class="number">0</span>]</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">u"Well i'm not sure about the story nad it did seem biased. What\nI disagree with is your statement that the U.S. Media is out to\nruin Israels reputation. That is rediculous. The U.S. media is\nthe most pro-israeli media in the world. Having lived in Europe\nI realize that incidences such as the one described in the\nletter have occured. The U.S. media as a whole seem to try to\nignore them. The U.S. is subsidizing Israels existance and the\nEuropeans are not (at least not to the same degree). So I think\nthat might be a reason they report more clearly on the\natrocities.\n\tWhat is a shame is that in Austria, daily reports of\nthe inhuman acts commited by Israeli soldiers and the blessing\nreceived from the Government makes some of the Holocaust guilt\ngo away. After all, look how the Jews are treating other races\nwhen they got power. It is unfortunate.\n"</span></div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tfidf_vectorizer.get_feature_names()[<span class="number">-10</span>:]</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[<span class="string">u'worth'</span>,</div><div class="line"> <span class="string">u'wouldn'</span>,</div><div class="line"> <span class="string">u'write'</span>,</div><div class="line"> <span class="string">u'written'</span>,</div><div class="line"> <span class="string">u'wrong'</span>,</div><div class="line"> <span class="string">u'xfree86'</span>,</div><div class="line"> <span class="string">u'year'</span>,</div><div class="line"> <span class="string">u'years'</span>,</div><div class="line"> <span class="string">u'yes'</span>,</div><div class="line"> <span class="string">u'young'</span>]</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tfidf.toarray().shape</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="number">2000L</span>, <span class="number">1000L</span>)</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dataset.target_names</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'alt.atheism'</span>,</div><div class="line"> <span class="string">'comp.graphics'</span>,</div><div class="line"> <span class="string">'comp.os.ms-windows.misc'</span>,</div><div class="line"> <span class="string">'comp.sys.ibm.pc.hardware'</span>,</div><div class="line"> <span class="string">'comp.sys.mac.hardware'</span>,</div><div class="line"> <span class="string">'comp.windows.x'</span>,</div><div class="line"> <span class="string">'misc.forsale'</span>,</div><div class="line"> <span class="string">'rec.autos'</span>,</div><div class="line"> <span class="string">'rec.motorcycles'</span>,</div><div class="line"> <span class="string">'rec.sport.baseball'</span>,</div><div class="line"> <span class="string">'rec.sport.hockey'</span>,</div><div class="line"> <span class="string">'sci.crypt'</span>,</div><div class="line"> <span class="string">'sci.electronics'</span>,</div><div class="line"> <span class="string">'sci.med'</span>,</div><div class="line"> <span class="string">'sci.space'</span>,</div><div class="line"> <span class="string">'soc.religion.christian'</span>,</div><div class="line"> <span class="string">'talk.politics.guns'</span>,</div><div class="line"> <span class="string">'talk.politics.mideast'</span>,</div><div class="line"> <span class="string">'talk.politics.misc'</span>,</div><div class="line"> <span class="string">'talk.religion.misc'</span>]</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lda.transform(tf)[<span class="number">1934</span>]</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">array([ <span class="number">0.3587206</span> ,  <span class="number">0.00227337</span>,  <span class="number">0.00227317</span>,  <span class="number">0.50146046</span>,  <span class="number">0.00227288</span>,</div><div class="line">        <span class="number">0.12390701</span>,  <span class="number">0.00227282</span>,  <span class="number">0.00227329</span>,  <span class="number">0.00227343</span>,  <span class="number">0.00227299</span>])</div></pre></td></tr></table></figure><h1 id="Extras"><a href="#Extras" class="headerlink" title="Extras"></a>Extras</h1><p>Some materials can find from Github.</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></section><nav class="pagination"><a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/40/">40</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Ewan Li"><p class="site-author-name" itemprop="name">Ewan Li</p><p class="site-description motion-element" itemprop="description">Ewan's IT Blog</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">40</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">28</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ewanlee" target="_blank" title="Github"><i class="fa fa-fw fa-globe"></i> Github </a></span><span class="links-of-author-item"><a href="http://weibo.com/3946248928/profile?topnav=1&wvr=6" target="_blank" title="Weibo"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Ewan Li</span></div><div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div><div class="theme-info">Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user">本站访客数</i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span>人次</span> <span class="site-pv"><i class="fa fa-eye">本站总访问量</i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">var duoshuoQuery={short_name:"ewanlee"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),n=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,n=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=n&&a.forEach(function(e,t){i=n.indexOf(e),l=s.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+o+"' class='search-result-title'>"+n+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),n.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("e27VKX5tTklQLCtF7iNMmhcA-gzGzoHsz","nnQn2znNgXXEdK7W2bVJ3bfK")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script></body></html>