<!doctype html><html class="theme-next mist use-motion" lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/atom.xml" title="Abracadabra" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="Ewan&apos;s IT Blog"><meta property="og:type" content="website"><meta property="og:title" content="Abracadabra"><meta property="og:url" content="http://yoursite.com/page/70/index.html"><meta property="og:site_name" content="Abracadabra"><meta property="og:description" content="Ewan&apos;s IT Blog"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Abracadabra"><meta name="twitter:description" content="Ewan&apos;s IT Blog"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/page/70/"><title>Abracadabra</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?dc405a79ad500922134d14cdf288f646";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container one-collumn sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Abracadabra</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Do it yourself</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>Categories</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>About</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br>Sitemap</a></li><li class="menu-item menu-item-commonweal"><a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/09/Installing-the-Python-Dynet-module/"><span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Ewan Li"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.jpg"></span><span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Abracadabra"><span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"><img style="display:none" itemprop="url image" alt="Abracadabra" src=""></span></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2017/04/09/Installing-the-Python-Dynet-module/" itemprop="url">Installing the Python Dynet module</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-09T13:57:09+08:00">2017-04-09 </time></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/2017/04/09/Installing-the-Python-Dynet-module/#comments" itemprop="discussionUrl"><span class="post-comments-count hc-comment-count" data-xid="2017/04/09/Installing-the-Python-Dynet-module/" itemprop="commentsCount"></span> </a></span><span id="/2017/04/09/Installing-the-Python-Dynet-module/" class="leancloud_visitors" data-flag-title="Installing the Python Dynet module"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Visitors </span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Installing-the-Python-Dynet-module"><a href="#Installing-the-Python-Dynet-module" class="headerlink" title="Installing the Python Dynet module"></a>Installing the Python Dynet module</h1><p>(for instructions on installing on a computer with GPU, see below)</p><p>Python bindings to DyNet are supported for both Python 2.x and 3.x.</p><h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><p>(see below for the details)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"># Installing Python DyNet:</div><div class="line"></div><div class="line">pip install cython  # if you don&apos;t have it already.</div><div class="line">mkdir dynet-base</div><div class="line">cd dynet-base</div><div class="line"># getting dynet and eigen</div><div class="line">git clone https://github.com/clab/dynet.git</div><div class="line">hg clone https://bitbucket.org/eigen/eigen -r 346ecdb  # -r NUM specified a known working revision</div><div class="line">cd dynet</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line"># without GPU support:</div><div class="line">cmake .. -DEIGEN3_INCLUDE_DIR=../../eigen -DPYTHON=`which python`</div><div class="line"># or with GPU support:</div><div class="line">cmake .. -DEIGEN3_INCLUDE_DIR=../../eigen -DPYTHON=`which python` -DBACKEND=cuda</div><div class="line"></div><div class="line">make -j 2 # replace 2 with the number of available cores</div><div class="line">cd python</div><div class="line">python setup.py install  # or `python setup.py install --user` for a user-local install.</div><div class="line"></div><div class="line"># this should suffice, but on some systems you may need to add the following line to your</div><div class="line"># init files in order for the compiled .so files be accessible to Python.</div><div class="line"># /path/to/dynet/build/dynet is the location in which libdynet.dylib resides.</div><div class="line">export DYLD_LIBRARY_PATH=/path/to/dynet/build/dynet/:$DYLD_LIBRARY_PATH</div></pre></td></tr></table></figure><h2 id="Detailed-Instructions"><a href="#Detailed-Instructions" class="headerlink" title="Detailed Instructions"></a>Detailed Instructions</h2><p>First, get DyNet:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cd $HOME</div><div class="line">mkdir dynet-base</div><div class="line">cd dynet-base</div><div class="line">git clone https://github.com/clab/dynet.git</div><div class="line">cd dynet</div><div class="line">git submodule init # To be consistent with DyNet&apos;s installation instructions.</div><div class="line">git submodule update # To be consistent with DyNet&apos;s installation instructions.</div></pre></td></tr></table></figure><p>Then get Eigen:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd $HOME</div><div class="line">cd dynet-base</div><div class="line">hg clone https://bitbucket.org/eigen/eigen/ -r 346ecdb</div></pre></td></tr></table></figure><p>(-r NUM specifies a known working revision of Eigen. You can remove this in order to get the bleeding edge Eigen, with the risk of some compile breaks, and the possible benefit of added optimizations.)</p><p>We also need to make sure the <code>cython</code> module is installed. (you can replace <code>pip</code> with your favorite package manager, such as <code>conda</code>, or install within a virtual environment)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install cython</div></pre></td></tr></table></figure><p>To simplify the following steps, we can set a bash variable to hold where we have saved the main directories of DyNet and Eigen. In case you have gotten DyNet and Eigen differently from the instructions above and saved them in different location(s), these variables will be helpful:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PATH_TO_DYNET=$HOME/dynet-base/dynet/</div><div class="line">PATH_TO_EIGEN=$HOME/dynet-base/eigen/</div></pre></td></tr></table></figure><p>Compile DyNet.</p><p>This is pretty much the same process as compiling DyNet, with the addition of the <code>-DPYTHON=</code> flag, pointing to the location of your Python interpreter.</p><p>If Boost is installed in a non-standard location, you should add the corresponding flags to the <code>cmake</code> commandline, see the <a href="https://github.com/clab/dynet/blob/master/doc/source/install.rst" target="_blank" rel="external">DyNet installation instructions page</a>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">cd $PATH_TO_DYNET</div><div class="line">PATH_TO_PYTHON=`which python`</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake .. -DEIGEN3_INCLUDE_DIR=$PATH_TO_EIGEN -DPYTHON=$PATH_TO_PYTHON</div><div class="line">make -j 2</div></pre></td></tr></table></figure><p>Assuming that the <code>cmake</code> command found all the needed libraries and didn’t fail, the <code>make</code> command will take a while, and compile DyNet as well as the Python bindings. You can change <code>make -j 2</code> to a higher number, depending on the available cores you want to use while compiling.</p><p>You now have a working Python binding inside of <code>build/dynet</code>. To verify this is working:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd $PATH_TO_DYNET/build/python</div><div class="line">python</div></pre></td></tr></table></figure><p>then, within Python:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> dynet <span class="keyword">as</span> dy</div><div class="line"><span class="keyword">print</span> dy.__version__</div><div class="line">model = dy.Model()</div></pre></td></tr></table></figure><p>In order to install the module so that it is accessible from everywhere in the system, run the following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd $PATH_TO_DYNET/build/python</div><div class="line">python setup.py install --user</div></pre></td></tr></table></figure><p>The <code>--user</code> switch will install the module in your local site-packages, and works without root privileges. To install the module to the system site-packages (for all users), or to the current virtualenv (if you are on one), run <code>python setup.py install</code>without this switch.</p><p>You should now have a working python binding (the <code>dynet</code> module).</p><p>Note however that the installation relies on the compiled DyNet library being in <code>$PATH_TO_DYNET/build/dynet</code>, so make sure not to move it from there.</p><p>Now, check that everything works:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd $PATH_TO_DYNET</div><div class="line">cd examples/python</div><div class="line">python xor.py</div><div class="line">python rnnlm.py rnnlm.py</div></pre></td></tr></table></figure><p>Alternatively, if the following script works for you, then your installation is likely to be working:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> dynet <span class="keyword">import</span> *</div><div class="line">model = Model()</div></pre></td></tr></table></figure><p>If it doesn’t work and you get an error similar to the following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ImportError: dlopen(/Users/sneharajana/.python-eggs/dyNET-0.0.0-py2.7-macosx-10.11-intel.egg-tmp/_dynet.so, 2): Library not loaded: @rpath/libdynet.dylib</div><div class="line">Referenced from: /Users/sneharajana/.python-eggs/dyNET-0.0.0-py2.7-macosx-10.11-intel.egg-tmp/_dynet.so</div><div class="line">Reason: image not found``</div></pre></td></tr></table></figure><p>then you may need to run the following (and add it to your shell init files):</p><blockquote><p>export DYLD_LIBRARY_PATH=/path/to/dynet/build/dynet/:$DYLD_LIBRARY_PATH</p></blockquote><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>There are two ways to import the dynet module :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> dynet</div></pre></td></tr></table></figure><p>imports dynet and automatically initializes the global dynet parameters with the command line arguments (see the <a href="https://github.com/clab/dynet/blob/master/doc/source/commandline" target="_blank" rel="external">documentation</a>). The amount of memory allocated, GPU/CPU usage is fixed from there on.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> _dynet</div><div class="line"><span class="comment"># or</span></div><div class="line"><span class="keyword">import</span> _gdynet <span class="comment"># For GPU</span></div></pre></td></tr></table></figure><p>Imports dynet for CPU (resp. GPU) and doesn’t initialize the global parameters. These must be initialized manually before using dynet, using one of the following :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Same as import dynet as dy</span></div><div class="line"><span class="keyword">import</span> _dynet <span class="keyword">as</span> dy</div><div class="line">dy.init()</div></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Same as import dynet as dy</span></div><div class="line"><span class="keyword">import</span> _dynet <span class="keyword">as</span> dy</div><div class="line"><span class="comment"># Declare a DynetParams object</span></div><div class="line">dyparams = dy.DynetParams()</div><div class="line"><span class="comment"># Fetch the command line arguments (optional)</span></div><div class="line">dyparams.from_args()</div><div class="line"><span class="comment"># Set some parameters manualy (see the command line arguments documentation)</span></div><div class="line">dyparams.set_mem(<span class="number">2048</span>)</div><div class="line">dyparams.set_random_seed(<span class="number">666</span>)</div><div class="line">dyparams.set_weight_decay(<span class="number">1e-7</span>)</div><div class="line">dyparams.set_shared_parameters(<span class="keyword">False</span>)</div><div class="line">dyparams.set_requested_gpus(<span class="number">1</span>)</div><div class="line">dyparams.set_gpu_mask([<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>])</div><div class="line"><span class="comment"># Initialize with the given parameters</span></div><div class="line">dyparams.init() <span class="comment"># or init_from_params(dyparams)</span></div></pre></td></tr></table></figure><h2 id="Anaconda-Support"><a href="#Anaconda-Support" class="headerlink" title="Anaconda Support"></a>Anaconda Support</h2><p><a href="https://www.continuum.io/downloads" target="_blank" rel="external">Anaconda</a> is a popular package management system for Python. DyNet can be used from within an Anaconda environment, but be sure to activate the environment</p><blockquote><p>source activate my_environment_name</p></blockquote><p>then install some necessary packages as follows:</p><blockquote><p>conda install gcc cmake boost cython</p></blockquote><p>After this, the build process should be the same as normal.</p><p>Note that on some conda environments, people have reported build errors related to the interaction between the <code>icu</code> and <code>boost</code> packages. If you encounter this, try the solution in <a href="https://github.com/clab/dynet/issues/268#issuecomment-278806398" target="_blank" rel="external">this comment</a>.</p><h2 id="Windows-Support"><a href="#Windows-Support" class="headerlink" title="Windows Support"></a>Windows Support</h2><p>You can also use Python on Windows by following similar steps to the above. For simplicity, we recommend using a Python distribution that already has Cython installed. The following has been tested to work:</p><ol><li>Install WinPython 2.7.10 (comes with Cython already installed).</li><li>Run CMake as above with <code>-DPYTHON=/path/to/your/python.exe</code>.</li><li>Open a command prompt and set <code>VS90COMNTOOLS</code> to the path to your Visual Studio “Common7/Tools” directory. One easy way to do this is a command such as:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set VS90COMNTOOLS=%VS140COMNTOOLS%</div></pre></td></tr></table></figure><ol><li>Open dynet.sln from this command prompt and build the “Release” version of the solution.</li><li>Follow the rest of the instructions above for testing the build and installing it for other users</li></ol><p>Note, currently only the Release version works.</p><h2 id="GPU-MKL-Support"><a href="#GPU-MKL-Support" class="headerlink" title="GPU/MKL Support"></a>GPU/MKL Support</h2><h3 id="Installing-running-on-GPU"><a href="#Installing-running-on-GPU" class="headerlink" title="Installing/running on GPU"></a>Installing/running on GPU</h3><p>For installing on a computer with GPU, first install CUDA. The following instructions assume CUDA is installed.</p><p>The installation process is pretty much the same, while adding the <code>-DBACKEND=cuda</code> flag to the <code>cmake</code> stage:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cmake .. -DEIGEN3_INCLUDE_DIR=$PATH_TO_EIGEN -DPYTHON=$PATH_TO_PYTHON -DBACKEND=cuda</div></pre></td></tr></table></figure><p>(if CUDA is installed in a non-standard location and <code>cmake</code> cannot find it, you can specify also <code>-DCUDA_TOOLKIT_ROOT_DIR=/path/to/cuda</code>.)</p><p>Now, build the Python modules (as above, we assume Cython is installed):</p><p>After running <code>make -j 2</code>, you should have the files <code>_dynet.so</code> and <code>_gdynet.so</code> in the <code>build/python</code> folder.</p><p>As before, <code>cd build/python</code> followed by <code>python setup.py install --user</code> will install the module.</p><p>In order to use the GPU support, you can either:</p><ul><li>Use <code>import _gdynet as dy</code> instead of <code>import dynet as dy</code></li><li>Or, (preferred), <code>import dynet</code> as usual, but use the commandline switch <code>--dynet-gpu</code> or the GPU switches detailed <a href="https://github.com/clab/dynet/blob/master/doc/source/commandline.rst" target="_blank" rel="external">here</a>when invoking the program. This option lets the same code work with either the GPU or the CPU version depending on how it is invoked.</li></ul><h3 id="Running-with-MKL"><a href="#Running-with-MKL" class="headerlink" title="Running with MKL"></a>Running with MKL</h3><p>If you’ve built DyNet to use MKL (using <code>-DMKL</code> or <code>-DMKL_ROOT</code>), Python sometimes has difficulty finding the MKL shared libraries. You can try setting <code>LD_LIBRARY_PATH</code> to point to your MKL library directory. If that doesn’t work, try setting the following environment variable (supposing, for example, your MKL libraries are located at <code>/opt/intel/mkl/lib/intel64</code>):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export LD_PRELOAD=/opt/intel/mkl/lib/intel64/libmkl_def.so:/opt/intel/mkl/lib/intel64/libmkl_avx2.so:/opt/intel/mkl/lib</div></pre></td></tr></table></figure><h2 id="Some-Errors-and-correspond-Solutions"><a href="#Some-Errors-and-correspond-Solutions" class="headerlink" title="Some Errors and correspond Solutions"></a>Some Errors and correspond Solutions</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">import dynet as dy</div><div class="line">-------------------------------------------</div><div class="line"></div><div class="line">Traceback (most recent call last):</div><div class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</div><div class="line">  File &quot;dynet.py&quot;, line 17, in &lt;module&gt;</div><div class="line">    from _dynet import *</div><div class="line">ImportError: /home/ewan/anaconda2/lib/libstdc++.so.6: version `GLIBCXX_3.4.20&apos; not found (required by /home/ewan/dynet-base/dynet/build/dynet/libdynet.so)</div><div class="line"></div><div class="line">-------------------------------------------</div><div class="line">Solution:</div><div class="line"></div><div class="line">conda install libgcc</div></pre></td></tr></table></figure></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></section><nav class="pagination"><a class="extend prev" rel="prev" href="/page/69/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/69/">69</a><span class="page-number current">70</span><a class="page-number" href="/page/71/">71</a><span class="space">&hellip;</span><a class="page-number" href="/page/101/">101</a><a class="extend next" rel="next" href="/page/71/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Ewan Li"><p class="site-author-name" itemprop="name">Ewan Li</p><p class="site-description motion-element" itemprop="description">Ewan's IT Blog</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">101</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">55</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ewanlee" target="_blank" title="Github"><i class="fa fa-fw fa-globe"></i> Github </a></span><span class="links-of-author-item"><a href="http://weibo.com/3946248928/profile?topnav=1&wvr=6" target="_blank" title="Weibo"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Ewan Li</span></div><div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div><div class="theme-info">Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user">本站访客数</i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span>人次</span> <span class="site-pv"><i class="fa fa-eye">本站总访问量</i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">_hcwp=window._hcwp||[],_hcwp.push({widget:"Bloggerstream",widget_id:89825,selector:".hc-comment-count",label:"{%COUNT%}"}),function(){if(!("HC_LOAD_INIT"in window)){HC_LOAD_INIT=!0;var t=(navigator.language||navigator.systemLanguage||navigator.userLanguage||"en").substr(0,2).toLowerCase(),e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https":"http")+"://w.hypercomments.com/widget/hc/89825/"+t+"/widget.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n.nextSibling)}}()</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),n=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,n=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=n&&a.forEach(function(e,t){i=n.indexOf(e),l=s.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+o+"' class='search-result-title'>"+n+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),n.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("e27VKX5tTklQLCtF7iNMmhcA-gzGzoHsz","nnQn2znNgXXEdK7W2bVJ3bfK")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>